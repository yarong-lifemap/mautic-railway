<Directory /var/www/html>
    php_admin_value open_basedir "/var/www/html:/data:/tmp"
    php_admin_value session.save_path "/data/tmp"
    php_admin_value sys_temp_dir "/data/tmp"
    php_admin_value upload_tmp_dir "/data/tmp"
</Directory>

# Add a quick debug endpoint to validate that PHP (during an HTTP request)
# can create/write files in the Mautic config directory.
# This runs as Apache's runtime user (typically www-data).
<Directory /var/www/html>
    Require all granted
</Directory>

<Files "__fscheck.php">
    Require all granted
</Files>

# Serve the debug script explicitly
ScriptAlias /__fscheck /var/www/html/__fscheck.php

ServerName localhost
